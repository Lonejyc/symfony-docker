{% extends 'admin/admin.html.twig' %}

{% block title "Toutes les recettes" %}

{% block body %}
    <p class="my-5">
        <a href="{{ path('admin.recipe.create') }}" class="text-white bg-teal-700 hover:bg-teal-800 focus:ring-4 focus:ring-teal-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-teal-600 dark:hover:bg-teal-700 focus:outline-none dark:focus:ring-teal-800">Créer une recette</a>
    </p>
    <div class="relative overflow-x-auto shadow-md sm:rounded-lg">
        <table class="w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400">
            <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
                <tr class="dark:text-white text-xl">
                    <th scope="col" class="px-6 py-3 text-left dark:text-white">
                        <div class="flex items-center">
                            {{ knp_pagination_sortable(recipes, 'ID', 'r.id') }}
                            <svg class="w-3 h-3 ms-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                            </svg>
                        </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left dark:text-white">
                        <div class="flex items-center">
                            {{ knp_pagination_sortable(recipes, 'Titre', 'r.title') }}
                            <svg class="w-3 h-3 ms-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                            </svg>
                        </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left dark:text-white">
                        <div class="flex items-center">
                            {{ knp_pagination_sortable(recipes, 'Catégorie', 'c.name') }}
                            <svg class="w-3 h-3 ms-1.5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24">
                                <path d="M8.574 11.024h6.852a2.075 2.075 0 0 0 1.847-1.086 1.9 1.9 0 0 0-.11-1.986L13.736 2.9a2.122 2.122 0 0 0-3.472 0L6.837 7.952a1.9 1.9 0 0 0-.11 1.986 2.074 2.074 0 0 0 1.847 1.086Zm6.852 1.952H8.574a2.072 2.072 0 0 0-1.847 1.087 1.9 1.9 0 0 0 .11 1.985l3.426 5.05a2.123 2.123 0 0 0 3.472 0l3.427-5.05a1.9 1.9 0 0 0 .11-1.985 2.074 2.074 0 0 0-1.846-1.087Z"/>
                            </svg>
                        </div>
                    </th>
                    <th scope="col" class="px-6 py-3 text-left dark:text-white w-1">Actions</th>
                </tr>
            </thead>
            <tbody>
                {% for recipe in recipes %}
                <tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
                    <th class="px-6 py-4 font-medium text-gray-900 whitespace-nowrap dark:text-white">
                        {{ recipe.id() }}
                    </th>
                    <td class="px-6 py-4">
                        <a href="{{ path('admin.recipe.edit', {id: recipe.id()}) }}" class="text-blue-500 dark:text-blue-100 underline">{{ recipe.title() }}</a>
                    </td>
                    <td class="px-6 py-4">
                        <p class="dark:text-white">{{ recipe.category.name | default('') }}</p>
                    </td>
                    <td class="px-6 py-4 flex gap-2 justify-end">
                        <a href="{{ path('admin.recipe.edit', {id: recipe.id()}) }}" class="text-white bg-teal-700 hover:bg-teal-800 focus:ring-4 focus:ring-teal-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-teal-600 dark:hover:bg-teal-700 focus:outline-none dark:focus:ring-teal-800">Éditer</a>
                        <form action="{{ path('admin.recipe.delete', {id: recipe.id()}) }}" method="post">
                            <input type="hidden" name="_method" value="DELETE">
                            <button type="submit" class="text-white bg-rose-700 hover:bg-rose-800 focus:ring-4 focus:ring-rose-300 font-medium rounded-lg text-sm px-5 py-2.5 dark:bg-rose-600 dark:hover:bg-rose-700 focus:outline-none dark:focus:ring-rose-800">Supprimer</button>
                        </form>
                    </td>
                </tr>
                {% endfor %}
            </tbody>
        </table>
    </div>
    <div class="mt-8 flex justify-center gap-3">
        {{ knp_pagination_render(recipes) }}
    </div>
{#    <div class="mt-8 flex justify-center gap-3">#}
{#        {% if page > 1 %}#}
{#            <a href="{{ path('admin.recipe.index', {page: page - 1}) }}" class="text-white text-sm shrink-0 rounded-lg p-2 font-medium">Page précédente</a>#}
{#        {% endif %}#}
{#        {% if page < maxPage %}#}
{#            <a href="{{ path('admin.recipe.index', {page: page + 1}) }}" class="text-white text-sm shrink-0 rounded-lg p-2 font-medium">Page suivante</a>#}
{#        {% endif %}#}
{#    </div>#}
{% endblock %}
